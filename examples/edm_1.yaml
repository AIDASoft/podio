---
components:
# A component is a POD designed to be embedded in another POD,
# see the Particle or Jet PODs.
# Components cannot be stored in a collection

  LorentzVector:
    Mass : float
    Pt : float
    Eta : float
    Phi : float

  Point:
    x : float 
    y : float 
    z : float

  BareHit:
    cellid : unsigned
    energy : float
    time : float 
    bits : unsigned

  BareCluster:
    energy : float
    time : float
    # position : Point
    bits : unsigned
    
  BareParticle:
    type: int
    status: unsigned
    # vertex: Point
    # p4: LorentzVector
    bits: unsigned

  BareJet:
    # p4: LorentzVector
    area: float
    bits: unsigned

datatypes :
# Datatypes are components that can be stored in a Collection

  EventInfo :
    description : "Event Info Data"
    author : "C. Bernet, B. Hegner"
    members :
     - name : Number
       type : int
       description: "Event number"

  Particle :
    description : "Reconstructed particle"
    author : "C. Bernet, B. Hegner"
    members :
     - name : core
       type : BareParticle
       description : "Contains basic particle information."
#     - name : cov
#       type : ???
#       description : "covariance matrix"

  ParticleTrackAssociation:
    description: "Association between a Particle and a Track."
    author : "C. Bernet, B. Hegner"
    members:
     - name: particle
       type: ParticleHandle
       description: "The particle"
     - name: track
       type: TrackHandle
       description: "The track"

  ParticleClusterAssociation:
    description: "Association between a Particle and a Cluster."
    author : "C. Bernet, B. Hegner"
    members:
     - name: particle
       type: ParticleHandle
       description: "The particle"
     - name: cluster
       type: CaloClusterHandle
       description: "The cluster"

  MCParticle:
    description: "Monte-Carlo Particle, either generated or simulated."
    author : "C. Bernet, B. Hegner"
    members:
     - name: core
       type: BareParticle
       description: "Basic particle information."
     - name: endvertex
       type: Point
       description: "Position of the decay."

  MCParticleAssociation:
    description: "Directed association between two MCParticles, for parentship."
    author : "C. Bernet, B. Hegner"
    members:
     - name: mother
       type: MCParticleHandle
       description: "The mother."
     - name: daughter
       type: MCParticleHandle
       description: "The daughter."
    
  ParticleAssociation:
    description : "Particle association, used e.g. for the mother-daughter relationship of gen particles, and for linking reconstructed particles and the corresponding generated particles."
    author : "C. Bernet, B. Hegner"
    members :
      - name : First
        type : ParticleHandle
        description : "Reference to the first particle"
      - name : Second
        type : ParticleHandle
        description : "Reference to the second particle"

  Jet :
    description : "Reconstructed jet."
    author : "C. Bernet, B. Hegner"
    members :
     - name: core
       type : BareJet
       description : "Basic jet information."
#    OneToManyRelations:
#     - name: particles
#       type: Particle
#       description: "Particles making up this jet"

  JetParticleAssociation :
    description : "Association between a Jet and a Particle. Used to keep track of jet constituents"
    author : "C. Bernet, B. Hegner"
    members :
     - name : jet
       type : JetHandle
       description : "Reference to the jet"
     - name : particle
       type : ParticleHandle
       description : "Reference to the particle"

  GenJet :
    description : "Generated jet."
    author : "C. Bernet, B. Hegner"
    members :
     - name: core
       type : BareJet
       description : "Basic jet information."

  GenJetParticleAssociation:
    description : "Association between a GenJet and a MCParticle. Used to keep track of jet constituents"
    author : "C. Bernet, B. Hegner"
    members :
     - name : jet
       type : GenJetHandle
       description : "Reference to the gen jet"
     - name : particle
       type : MCParticleHandle
       description : "Reference to the mc particle"
  
  MET:
    description : "Naive MET type"
    author : "C. Bernet, B. Hegner"
    members :
     - name: Pt
       type : float
       description : ""
     - name: Phi
       type : float
       description : ""

  MissingEnergy:
    description : "Naive missing energy type"
    author : "C. Bernet, B. Hegner"
    members :
     - name: Energy
       type : float
       description : ""
     - name: Phi
       type : float
       description : ""


  TrackHit:
    description : "A tracker hit"
    author : "C. Bernet, B. Hegner"
    members:
     - name: core
       type: BareHit
       description : "contains basic hit information"

  CaloHit:
    description : "A calorimeter hit"
    author : "C. Bernet, B. Hegner"
    members:
     - name: core
       type: BareHit
       description : "contains basic hit information"

  SimCaloHit:
    description : "A simulated calorimeter hit"
    author : "C. Bernet, B. Hegner"
    members:
     - name: core
       type: BareHit
       description : "contains basic hit information"

  SimCaloHitMCParticleAssociation:
    description: "Association between a SimCaloHit and a particle that contributed to the hit."
    author : "C. Bernet, B. Hegner"
    members:
     - name: hit
       type: SimCaloHitHandle
       description: "The hit."
     - name: particle
       type: MCParticleHandle
       description: "The particle."
     - name: fraction
       type: float
       description: "Fraction of the particle energy used in the hit."

  CaloHitAssociation:
    description: "Association between a CaloHit and the corresponding SimCaloHit"
    author : "C. Bernet, B. Hegner"
    members:
     - name: rec
       type: CaloHitHandle
       description: "The reconstruted hit."
     - name: sim
       type: SimCaloHitHandle
       description: "The simulated hit."

  TrackCluster:
    description : "A track cluster, made of TrackHits"
    author : "C. Bernet, B. Hegner"
    members:
     - name: core
       type: BareCluster
       description : "contains basic cluster information"

  CaloCluster:
    description : "A calo cluster, made of CaloHits"
    author : "C. Bernet, B. Hegner"
    members:
     - name: core
       type: BareCluster
       description : "contains basic cluster information"

  SimCaloCluster:
    description : "A simulated calo cluster, made of SimCaloHits"
    author : "C. Bernet, B. Hegner"
    members:
     - name: core
       type: BareCluster
       description: "contains basic cluster information."

  SimCaloClusterHitAssociation:
    description: "Association between a simulated calo cluster and a simulated hit. Used to keep track of the hits used to build a given cluster"
    author : "C. Bernet, B. Hegner"
    members:
     - name: cluster
       type: SimCaloClusterHandle
       description: "The cluster"
     - name: hit
       type: SimCaloHitHandle
       description: "The hit"

  TrackClusterHitsAssociation:
    description : "Association between a track cluster and a track hit"
    author : "C. Bernet, B. Hegner"
    members:
     - name: cluster
       type: TrackClusterHandle
       description: "cluster handle"
     - name: hit
       type: TrackHitHandle
       description: "hit handle"

  Track:
    description: "Track reconstructed from clusters in the inner tracker"
    author : "C. Bernet, B. Hegner"
    members:
     - name: chi2
       type: float
       description: "chi2 returned by the track fit"
     - name: ndf
       type: unsigned
       description: "Number of degrees of freedom of the track fit"
     - name: bits
       type: unsigned
       description: "Stores flags."

  TrackClusterAssociation:
    description: "Association between a track and a track cluster"
    author : "C. Bernet, B. Hegner"
    members:
     - name: track
       type: TrackHandle
       description: "The track."
     - name: cluster
       type: TrackClusterHandle
       description: "The cluster."

  TrackState:
    description: "Track state at a given point on the track."
    author : "C. Bernet, B. Hegner"
    members:
     - name: location
       type: float
       description: "Location on the track. (Radius??)"
     - name: omega
       type: float
       description: "Track curvature in cm."
     - name: d0
       type: float
       description: "Transverse impact parameter"
     - name: z0
       type: float
       description: "Longitudinal impact parameter"
#     - name: cov
#       type: ??? Need a matrix type
#       description: "Covariance matrix."

  TrackStateAssociation:
    description: "Association between a track and a track state."
    author : "C. Bernet, B. Hegner"
    members:
     - name: track
       type: TrackHandle
       description: "The track."
     - name: state
       type: TrackStateHandle
       description: "The track state."


  Vertex:
    description: "Vertex reconstructed from tracks"
    author : "C. Bernet, B. Hegner"
    members:
     - name: chi2
       type: float
       description: "chi2 returned by the vertex fit"
     - name: ndf
       type: unsigned
       description: "Number of degrees of freedom of the vertex fit"
     - name: position
       type: Point
       description: "Vertex position in cm"
     - name: bits
       type: unsigned
       description: "Stores flags."

  VertexTrackAssociation:
    description: "Association between a track and a vertex, with a weight"
    author : "C. Bernet, B. Hegner"
    members:
     - name: track
       type: TrackHandle
       description: "The track."
     - name: vertex
       type: VertexHandle
       description: "The vertex."
     - name: weight
       type: float
       description: "Weight of the track in the vertex."