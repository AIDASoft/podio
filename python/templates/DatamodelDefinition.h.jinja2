// AUTOMATICALLY GENERATED FILE - DO NOT EDIT

#include "podio/EDMDefinitionRegistry.h"

namespace {{ package_name }}::meta {
/**
 * The complete definition of the datamodel at generation time in JSON format.
 */
static constexpr auto {{ package_name }}__JSONDefinition = R"EDMDEFINITION({{ edm_definition }})EDMDEFINITION";

/**
 * The helper class that takes care of registering the EDM definition to the
 * EDMDefinitionRegistry and to provide the index in that registry.
 *
 * Implemented as a singleton mainly to ensure only a single registration of
 * each EDM, during the constructor
 */
class RegistryIndex {
public:
  static size_t value() {
    static auto index = RegistryIndex(podio::EDMDefinitionRegistry::instance().registerEDM("{{ package_name }}", {{ package_name }}__JSONDefinition));
    return index.m_value;
  }

private:
  RegistryIndex(size_t v) : m_value(v) {}
  size_t m_value{podio::EDMDefinitionRegistry::NoDefinitionAvailable};
};

} // namespace {{ package_name }}::meta
